{"ast":null,"code":"import { buttonStore } from \"./store\";\nexport const getComic = sentType => async (dispatch, getState) => {\n  console.log(sentType);\n  const url = getState().url; // console.log(url);\n\n  const response = await fetch(url).then(res => res.json()); // console.log(response);\n  // console.log('Calling dispatch: ' + buttonStore.getState().url);\n\n  console.log(response.img);\n  let int = parseInt(response.num);\n  let randomInt = Math.ceil(Math.random() * 100);\n\n  if (sentType === \"PREVIOUS\") {\n    buttonStore.dispatch({\n      type: \"PREVIOUS\",\n      payload: {\n        url: 'https://xkcd.now.sh/?comic=' + (int - 1),\n        month: response.month,\n        number: int - 1,\n        year: response.year,\n        news: response.news,\n        safe_title: response.safe_title,\n        transcript: response.transcript,\n        alt: response.alt,\n        img: response.img,\n        title: response.title,\n        day: response.day\n      }\n    });\n  } else if (sentType === \"NEXT\") {\n    buttonStore.dispatch({\n      type: \"NEXT\",\n      payload: {\n        url: 'https://xkcd.now.sh/?comic=' + (int + 1),\n        month: response.month,\n        number: int + 1,\n        year: response.year,\n        news: response.news,\n        safe_title: response.safe_title,\n        transcript: response.transcript,\n        alt: response.alt,\n        img: response.img,\n        title: response.title,\n        day: response.day\n      }\n    });\n  } else {\n    buttonStore.dispatch({\n      type: \"RANDOM\",\n      payload: {\n        url: 'https://xkcd.now.sh/?comic=' + randomInt,\n        month: response.month,\n        number: randomInt,\n        year: response.year,\n        news: response.news,\n        safe_title: response.safe_title,\n        transcript: response.transcript,\n        alt: response.alt,\n        img: response.img,\n        title: response.title,\n        day: response.day\n      }\n    });\n  } // console.log(buttonStore.getState());\n  // buttonStore.subscribe(() => {\n  //     console.log(\"Store Changed!\", buttonStore.getState());\n  // });\n\n};","map":{"version":3,"sources":["/Users/jmay1126/WebProjects/ReactWebServer/Homepage/src/Data/asyncActions.js"],"names":["buttonStore","getComic","sentType","dispatch","getState","console","log","url","response","fetch","then","res","json","img","int","parseInt","num","randomInt","Math","ceil","random","type","payload","month","number","year","news","safe_title","transcript","alt","title","day"],"mappings":"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","sourcesContent":["import {buttonStore} from \"./store\";\n\n\nexport const getComic = (sentType) => async (dispatch, getState) => {\n    console.log(sentType);\n    const url = getState().url;\n    // console.log(url);\n    const response = await fetch(url)\n        .then(res => res.json());\n    // console.log(response);\n\n    // console.log('Calling dispatch: ' + buttonStore.getState().url);\n    console.log(response.img);\n    let int = parseInt(response.num);\n    let randomInt = (Math.ceil(Math.random() * 100));\n\n    if(sentType === \"PREVIOUS\") {\n        buttonStore.dispatch({\n            type: \"PREVIOUS\",\n            payload: {\n                url: 'https://xkcd.now.sh/?comic=' + (int - 1),\n                month: response.month,\n                number: int - 1,\n                year: response.year,\n                news: response.news,\n                safe_title: response.safe_title,\n                transcript: response.transcript,\n                alt: response.alt,\n                img: response.img,\n                title: response.title,\n                day: response.day\n            }\n        })\n    } else if (sentType === \"NEXT\") {\n        buttonStore.dispatch({\n            type: \"NEXT\",\n            payload: {\n                url: 'https://xkcd.now.sh/?comic=' + (int + 1),\n                month: response.month,\n                number: int + 1,\n                year: response.year,\n                news: response.news,\n                safe_title: response.safe_title,\n                transcript: response.transcript,\n                alt: response.alt,\n                img: response.img,\n                title: response.title,\n                day: response.day\n            }\n        })\n    } else {\n        buttonStore.dispatch({\n            type: \"RANDOM\",\n            payload: {\n                url: 'https://xkcd.now.sh/?comic=' + (randomInt),\n                month: response.month,\n                number: randomInt,\n                year: response.year,\n                news: response.news,\n                safe_title: response.safe_title,\n                transcript: response.transcript,\n                alt: response.alt,\n                img: response.img,\n                title: response.title,\n                day: response.day\n            }\n        })\n    }\n\n\n    // console.log(buttonStore.getState());\n\n    // buttonStore.subscribe(() => {\n    //     console.log(\"Store Changed!\", buttonStore.getState());\n    // });\n}\n"]},"metadata":{},"sourceType":"module"}